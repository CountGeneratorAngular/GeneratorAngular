<div ng-controller="${EntityName}Controller as ${EntityName}">
#set($d = "$")
#parse("/templates/entityCreateOptions.vm")
<hr/>
<div>

<div>
    <h3>Search for ${EntityName}</h3>
    <form id="EventSearch" class="form-horizontal">
        <div class="form-group">
            <label for="title" class="col-sm-2 control-label">Key Word:</label>
            <div class="col-sm-10">
                <input id="title" name="title" class="form-control" type="text" ng-model="search.title" placeholder="Enter the Event Title"/>
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-sm-10">
                <a id="Search" name="Search" class="btn btn-primary" ng-click="performSearch()"><span class="glyphicon glyphicon-search"></span> Search</a>
            </div>
        </div>
    </form>

</div>
<hr/>
#parse("/templates/arborescence.vm")

<h3>Liste d'attributs</h3>
    <div class="col-md-offset-2 col-sm-2">
        <a id="displayButton1" value="Afficher" ng-click="${EntityName}.switch('displayTable','displayButton')">
            <span class="glyphicon glyphicon-plus-sign"></span> Filter</a>
    </div>
    
<div id="displayTable">
   <label ng-repeat="attributesSelected in ${EntityName}.selectionAll">
        <input type="checkbox" checklist-model="${EntityName}.selection.selectionAll" checklist-value="attributesSelected" ng-click="${EntityName}.toggleSelection('attributesSelected')" > {{attributesSelected}}
    <br></label>
 <div>
     <div class="form-group">
         <div class="col-md-offset-2 col-sm-2">
             <a id="Create2" name="Create2" class="btn btn-primary" ng-click="${EntityName}.checkAll()">
                 <span class="glyphicon glyphicon-plus-sign"></span>Check all</a>
         </div>
         <div class="col-sm-2">
             <a id="Create3" name="Create3" class="btn btn-primary" ng-click="${EntityName}.uncheckAll()">
                 <span class="glyphicon glyphicon-plus-sign"></span>Uncheck all</a>
         </div>
     </div>
</div>
</div>
<br>
<hr/>
#set($sub = $EntityName.length() - 3)
#if($sub > 0 && $EntityName.substring($sub).equals("Agr"))


<div ng-repeat="item in ${EntityName}.agregation.${EntityName}">
<div ng-if="${EntityName}.showFrom('{item.Nom}')">{{item.Nom}} :{{${d}index}} <input type="text" ng-model = "${EntityName}.agregation.data[${d}index]"/>
</div>
</div>
<div ng-if="${EntityName}.showFrom('{item.Nom}')">
<input type="button" ng-click="${EntityName}.SaveAgr()" value = "save"/>
{{$EntityName.saving}}
</div>


#else
    <div id="search-results">
        <div class="table-responsive displayOverflow-y">
            #parse("/templates/entityList.vm")
</div>


    </div>
#end

</div></div>
